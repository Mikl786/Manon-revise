<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Brevet 2025 - Manon r√©vise</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üéì</text></svg>">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
        }

        header {
            text-align: center;
            padding: 2rem;
            color: white;
        }

        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .subject-nav {
            display: flex;
            justify-content: center;
            gap: 1rem;
            padding: 1rem;
            flex-wrap: wrap;
        }

        .subject-btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
        }

        .subject-btn:hover, .subject-btn.active {
            background: rgba(255, 255, 255, 0.9);
            color: #333;
            transform: translateY(-2px);
        }

        .quiz-container {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin-bottom: 1rem;
            overflow: hidden;
        }

        .progress {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            width: 0%;
            transition: width 0.3s ease;
        }

        .score-display {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            font-weight: 600;
            color: #666;
        }

        #question-number {
            color: #667eea;
            margin-bottom: 1rem;
        }

        #question-text {
            font-size: 1.2rem;
            line-height: 1.6;
            margin-bottom: 1.5rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #667eea;
        }

        .answers-container {
            display: grid;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }

        .answer-option {
            padding: 1rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .answer-option:hover {
            border-color: #667eea;
            background: #f0f4ff;
        }

        .answer-option.selected {
            border-color: #667eea;
            background: #667eea;
            color: white;
        }

        .answer-option.correct {
            border-color: #4CAF50;
            background: #e8f5e8;
            color: #2e7d32;
        }

        .answer-option.incorrect {
            border-color: #f44336;
            background: #ffebee;
            color: #c62828;
        }

        .quiz-controls {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        button {
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        #validate-btn {
            background: #667eea;
            color: white;
        }

        #validate-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        #next-btn, #restart-btn {
            background: #4CAF50;
            color: white;
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .explanation {
            margin-top: 1rem;
            padding: 1rem;
            background: #e3f2fd;
            border-radius: 8px;
            border-left: 4px solid #2196F3;
        }

        .stats-panel {
            max-width: 800px;
            margin: 2rem auto;
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .stat-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid #eee;
        }

        .final-score {
            text-align: center;
            padding: 2rem;
            background: #f8f9fa;
            border-radius: 8px;
            margin: 1rem 0;
        }

        .final-score h3 {
            color: #667eea;
            margin-bottom: 1rem;
        }

        .score-excellent { color: #4CAF50; }
        .score-good { color: #FF9800; }
        .score-needs-work { color: #f44336; }

        @media (max-width: 768px) {
            .quiz-container, .stats-panel {
                margin: 1rem;
                padding: 1rem;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .subject-nav {
                padding: 0.5rem;
            }
            
            .subject-btn {
                padding: 0.6rem 1rem;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>üéì Quiz Brevet 2025</h1>
        <p>Manon r√©vise - Plus de 300 questions pour r√©ussir ton brevet</p>
    </header>

    <nav class="subject-nav">
        <button class="subject-btn active" data-subject="francais">Fran√ßais</button>
        <button class="subject-btn" data-subject="maths">Math√©matiques</button>
        <button class="subject-btn" data-subject="histoire">Histoire-G√©o</button>
        <button class="subject-btn" data-subject="sciences">Sciences (SVT)</button>
        <button class="subject-btn" data-subject="physique">Physique-Chimie</button>
    </nav>

    <main>
        <div class="quiz-container">
            <div class="progress-bar">
                <div class="progress" id="progress"></div>
            </div>
            
            <div class="score-display">
                <span id="current-score">Score: 0/0</span>
                <span id="percentage">0%</span>
            </div>

            <div class="question-container">
                <h2 id="question-number">Question 1/20</h2>
                <p id="question-text">Chargement...</p>
                
                <div class="answers-container" id="answers">
                    <!-- Les r√©ponses seront g√©n√©r√©es dynamiquement -->
                </div>
                
                <div class="quiz-controls">
                    <button id="validate-btn" disabled>Valider</button>
                    <button id="next-btn" style="display:none;">Question suivante</button>
                    <button id="restart-btn" style="display:none;">Recommencer</button>
                </div>
                
                <div id="explanation" class="explanation" style="display:none;">
                    <!-- Explication de la r√©ponse -->
                </div>
            </div>
        </div>

        <div class="stats-panel">
            <h3>üìä Statistiques par mati√®re</h3>
            <div id="stats-content">
                <!-- Statistiques g√©n√©r√©es dynamiquement -->
            </div>
        </div>
    </main>

    <script>
        // Base de donn√©es des questions
        const questionsDatabase = {
            francais: [
                {
                    question: "Quel genre litt√©raire est privil√©gi√© pour explorer le th√®me 'Se chercher, se construire' ?",
                    answers: ["L'autobiographie", "Le th√©√¢tre", "La po√©sie", "Le roman policier"],
                    correct: 0,
                    explanation: "L'autobiographie permet d'explorer la construction de soi et l'identit√© personnelle."
                },
                {
                    question: "Dans 'Les Confessions' de Rousseau, quel est l'objectif principal de l'auteur ?",
                    answers: ["Divertir le lecteur", "Se justifier et se r√©v√©ler", "Critiquer la soci√©t√©", "Raconter l'Histoire"],
                    correct: 1,
                    explanation: "Rousseau cherche √† se montrer tel qu'il est, avec ses d√©fauts et qualit√©s."
                },
                {
                    question: "Identifiez la figure de style : 'Ses yeux sont des √©toiles' ?",
                    answers: ["Comparaison", "M√©taphore", "Personnification", "Hyperbole"],
                    correct: 1,
                    explanation: "C'est une m√©taphore car il y a assimilation directe sans outil de comparaison."
                },
                {
                    question: "Au th√©√¢tre, comment appelle-t-on les paroles qu'un personnage se dit √† lui-m√™me ?",
                    answers: ["Monologue", "Dialogue", "Apart√©", "Soliloque"],
                    correct: 0,
                    explanation: "Le monologue est un discours d'un personnage seul qui exprime ses pens√©es."
                },
                {
                    question: "Combien de syllabes compte un alexandrin ?",
                    answers: ["10", "12", "8", "14"],
                    correct: 1,
                    explanation: "L'alexandrin est un vers de douze syllabes, tr√®s utilis√© en po√©sie classique."
                }
            ],

            maths: [
                {
                    question: "R√©soudre l'√©quation : 3x + 5 = 14",
                    answers: ["x = 3", "x = 4", "x = 5", "x = 6"],
                    correct: 0,
                    explanation: "3x = 14 - 5 = 9, donc x = 9/3 = 3"
                },
                {
                    question: "Si f(x) = 2x + 3, que vaut f(4) ?",
                    answers: ["11", "10", "9", "8"],
                    correct: 0,
                    explanation: "f(4) = 2√ó4 + 3 = 8 + 3 = 11"
                },
                {
                    question: "Dans un triangle rectangle, si les c√¥t√©s de l'angle droit mesurent 3 et 4, l'hypot√©nuse mesure :",
                    answers: ["5", "6", "7", "25"],
                    correct: 0,
                    explanation: "D'apr√®s Pythagore : c¬≤ = 3¬≤ + 4¬≤ = 9 + 16 = 25, donc c = 5"
                },
                {
                    question: "Dans la s√©rie : 2, 5, 7, 8, 10, la m√©diane est :",
                    answers: ["6", "7", "8", "6.4"],
                    correct: 1,
                    explanation: "La m√©diane est la valeur centrale : 7 (3√®me valeur sur 5)"
                },
                {
                    question: "D√©velopper : (x + 3)(x - 2)",
                    answers: ["x¬≤ + x - 6", "x¬≤ - x - 6", "x¬≤ + x + 6", "x¬≤ - x + 6"],
                    correct: 0,
                    explanation: "(x+3)(x-2) = x¬≤ - 2x + 3x - 6 = x¬≤ + x - 6"
                }
            ],

            histoire: [
                {
                    question: "Quelle est la date de l'ind√©pendance de l'Inde ?",
                    answers: ["1945", "1947", "1950", "1952"],
                    correct: 1,
                    explanation: "L'Inde obtient son ind√©pendance le 15 ao√ªt 1947, avec partition entre Inde et Pakistan."
                },
                {
                    question: "La Ve R√©publique est fond√©e en :",
                    answers: ["1956", "1958", "1960", "1962"],
                    correct: 1,
                    explanation: "La Constitution de la Ve R√©publique est adopt√©e par r√©f√©rendum le 28 septembre 1958."
                },
                {
                    question: "La guerre froide commence vers :",
                    answers: ["1945", "1947", "1949", "1950"],
                    correct: 1,
                    explanation: "1947 marque le d√©but avec la doctrine Truman et le plan Marshall."
                },
                {
                    question: "Les femmes obtiennent le droit de vote en France en :",
                    answers: ["1936", "1944", "1946", "1958"],
                    correct: 1,
                    explanation: "L'ordonnance du 21 avril 1944 accorde le droit de vote aux femmes."
                },
                {
                    question: "Une aire urbaine comprend :",
                    answers: ["Seulement la ville-centre", "La ville-centre et sa banlieue", "La ville-centre, sa banlieue et sa couronne p√©riurbaine", "Toute la r√©gion"],
                    correct: 2,
                    explanation: "L'aire urbaine inclut le p√¥le urbain (ville-centre + banlieue) et la couronne p√©riurbaine."
                }
            ],

            sciences: [
                {
                    question: "La f√©condation a lieu dans :",
                    answers: ["L'ovaire", "L'ut√©rus", "La trompe de Fallope", "Le vagin"],
                    correct: 2,
                    explanation: "La f√©condation se produit dans la trompe de Fallope, aussi appel√©e trompe ut√©rine."
                },
                {
                    question: "Un chromosome contient :",
                    answers: ["De l'ARN", "De l'ADN", "Des prot√©ines", "Des lipides"],
                    correct: 1,
                    explanation: "Les chromosomes sont constitu√©s d'ADN (acide d√©soxyribonucl√©ique) et de prot√©ines."
                },
                {
                    question: "L'√™tre humain poss√®de :",
                    answers: ["23 chromosomes", "46 chromosomes", "48 chromosomes", "44 chromosomes"],
                    correct: 1,
                    explanation: "L'√™tre humain poss√®de 46 chromosomes (23 paires) dans chaque cellule."
                },
                {
                    question: "La d√©rive des continents est propos√©e par :",
                    answers: ["Darwin", "Wegener", "Mendel", "Pasteur"],
                    correct: 1,
                    explanation: "Alfred Wegener propose la th√©orie de la d√©rive des continents en 1912."
                },
                {
                    question: "Le neurone est :",
                    answers: ["Une cellule musculaire", "Une cellule nerveuse", "Une cellule sanguine", "Une cellule osseuse"],
                    correct: 1,
                    explanation: "Le neurone est la cellule de base du syst√®me nerveux qui transmet l'information."
                }
            ],

            physique: [
                {
                    question: "Un atome est constitu√© :",
                    answers: ["Seulement de protons", "D'un noyau et d'√©lectrons", "Seulement d'√©lectrons", "De mol√©cules"],
                    correct: 1,
                    explanation: "L'atome comprend un noyau (protons + neutrons) et des √©lectrons qui gravitent autour."
                },
                {
                    question: "La vitesse se calcule par :",
                    answers: ["v = d √ó t", "v = d / t", "v = t / d", "v = d + t"],
                    correct: 1,
                    explanation: "La vitesse est √©gale √† la distance parcourue divis√©e par le temps : v = d/t."
                },
                {
                    question: "Dans un circuit en s√©rie, l'intensit√© :",
                    answers: ["Varie", "Est la m√™me partout", "Diminue", "Augmente"],
                    correct: 1,
                    explanation: "Dans un circuit en s√©rie, l'intensit√© est identique en tous points."
                },
                {
                    question: "La charge d'un proton est :",
                    answers: ["Positive", "N√©gative", "Neutre", "Variable"],
                    correct: 0,
                    explanation: "Le proton porte une charge √©lectrique positive (+e)."
                },
                {
                    question: "La formule chimique de l'eau est :",
                    answers: ["H‚ÇÇO", "HO‚ÇÇ", "H‚ÇÉO", "H‚ÇÇO‚ÇÇ"],
                    correct: 0,
                    explanation: "L'eau est constitu√©e de 2 atomes d'hydrog√®ne et 1 atome d'oxyg√®ne : H‚ÇÇO."
                }
            ]
        };

        // Application Quiz
        class QuizApp {
            constructor() {
                this.currentSubject = 'francais';
                this.currentQuestionIndex = 0;
                this.score = 0;
                this.selectedAnswer = null;
                this.userStats = this.loadStats();
                this.currentQuestions = [];
                
                this.initializeElements();
                this.setupEventListeners();
                this.loadSubject('francais');
            }

            initializeElements() {
                this.questionNumberEl = document.getElementById('question-number');
                this.questionTextEl = document.getElementById('question-text');
                this.answersEl = document.getElementById('answers');
                this.validateBtn = document.getElementById('validate-btn');
                this.nextBtn = document.getElementById('next-btn');
                this.restartBtn = document.getElementById('restart-btn');
                this.explanationEl = document.getElementById('explanation');
                this.progressEl = document.getElementById('progress');
                this.scoreEl = document.getElementById('current-score');
                this.percentageEl = document.getElementById('percentage');
                this.statsEl = document.getElementById('stats-content');
            }

            setupEventListeners() {
                document.querySelectorAll('.subject-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const subject = e.target.dataset.subject;
                        this.loadSubject(subject);
                    });
                });

                this.validateBtn.addEventListener('click', () => this.validateAnswer());
                this.nextBtn.addEventListener('click', () => this.nextQuestion());
                this.restartBtn.addEventListener('click', () => this.restartQuiz());
            }

            loadSubject(subject) {
                document.querySelectorAll('.subject-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-subject="${subject}"]`).classList.add('active');

                this.currentSubject = subject;
                this.currentQuestions = this.shuffleArray([...questionsDatabase[subject]]);
                this.currentQuestionIndex = 0;
                this.score = 0;
                this.selectedAnswer = null;

                this.displayQuestion();
                this.updateStats();
            }

            shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled.slice(0, 5); // 5 questions par session pour test
            }

            displayQuestion() {
                const question = this.currentQuestions[this.currentQuestionIndex];
                
                this.questionNumberEl.textContent = `Question ${this.currentQuestionIndex + 1}/${this.currentQuestions.length}`;
                this.questionTextEl.textContent = question.question;
                
                this.answersEl.innerHTML = '';
                question.answers.forEach((answer, index) => {
                    const answerEl = document.createElement('div');
                    answerEl.className = 'answer-option';
                    answerEl.textContent = answer;
                    answerEl.addEventListener('click', () => this.selectAnswer(index));
                    this.answersEl.appendChild(answerEl);
                });

                this.validateBtn.disabled = true;
                this.validateBtn.style.display = 'inline-block';
                this.nextBtn.style.display = 'none';
                this.restartBtn.style.display = 'none';
                this.explanationEl.style.display = 'none';
                this.selectedAnswer = null;

                const progress = ((this.currentQuestionIndex) / this.currentQuestions.length) * 100;
                this.progressEl.style.width = `${progress}%`;

                this.updateScore();
            }

            selectAnswer(index) {
                document.querySelectorAll('.answer-option').forEach(el => {
                    el.classList.remove('selected');
                });

                document.querySelectorAll('.answer-option')[index].classList.add('selected');
                this.selectedAnswer = index;
                this.validateBtn.disabled = false;
            }

            validateAnswer() {
                if (this.selectedAnswer === null) return;

                const question = this.currentQuestions[this.currentQuestionIndex];
                const isCorrect = this.selectedAnswer === question.correct;

                document.querySelectorAll('.answer-option').forEach((el, index) => {
                    if (index === question.correct) {
                        el.classList.add('correct');
                    } else if (index === this.selectedAnswer && !isCorrect) {
                        el.classList.add('incorrect');
                    }
                    el.style.pointerEvents = 'none';
                });

                if (isCorrect) {
                    this.score++;
                    this.userStats[this.currentSubject].correct++;
                } else {
                    this.userStats[this.currentSubject].incorrect++;
                }

                this.explanationEl.innerHTML = `<strong>üí° Explication :</strong> ${question.explanation}`;
                this.explanationEl.style.display = 'block';

                this.validateBtn.style.display = 'none';
                
                if (this.currentQuestionIndex < this.currentQuestions.length - 1) {
                    this.nextBtn.style.display = 'inline-block';
                } else {
                    this.restartBtn.style.display = 'inline-block';
                    this.showFinalScore();
                }

                this.updateScore();
                this.updateStats();
                this.saveStats();
            }

            nextQuestion() {
                this.currentQuestionIndex++;
                this.displayQuestion();
            }

            restartQuiz() {
                this.loadSubject(this.currentSubject);
            }

            updateScore() {
                const totalAnswered = this.currentQuestionIndex + (this.selectedAnswer !== null ? 1 : 0);
                this.scoreEl.textContent = `Score: ${this.score}/${totalAnswered}`;
                const percentage = totalAnswered > 0 ? Math.round((this.score / totalAnswered) * 100) : 0;
                this.percentageEl.textContent = `${percentage}%`;
            }

            showFinalScore() {
                const percentage = Math.round((this.score / this.currentQuestions.length) * 100);
                let message = '';
                let className = '';

                if (percentage >= 80) {
                    message = 'üéâ Excellent ! Tu ma√Ætrises bien ce sujet !';
                    className = 'score-excellent';
                } else if (percentage >= 60) {
                    message = 'üëç Bien jou√© ! Continue tes r√©visions !';
                    className = 'score-good';
                } else {
                    message = 'üí™ Il faut encore r√©viser ce sujet !';
                    className = 'score-needs-work';
                }

                const finalScoreEl = document.createElement('div');
                finalScoreEl.className = `final-score ${className}`;
                finalScoreEl.innerHTML = `
                    <h3>Quiz termin√© !</h3>
                    <p>Score final : ${this.score}/${this.currentQuestions.length} (${percentage}%)</p>
                    <p>${message}</p>
                `;

                this.explanationEl.appendChild(finalScoreEl);
            }

            updateStats() {
                const subjects = {
                    francais: 'Fran√ßais',
                    maths: 'Math√©matiques',
                    histoire: 'Histoire-G√©o',
                    sciences: 'Sciences (SVT)',
                    physique: 'Physique-Chimie'
                };

                this.statsEl.innerHTML = '';
                
                Object.keys(subjects).forEach(subject => {
                    const stats = this.userStats[subject];
                    const total = stats.correct + stats.incorrect;
                    const percentage = total > 0 ? Math.round((stats.correct / total) * 100) : 0;

                    const statEl = document.createElement('div');
                    statEl.className = 'stat-item';
                    statEl.innerHTML = `
                        <span>${subjects[subject]}</span>
                        <span>${stats.correct}/${total} (${percentage}%)</span>
                    `;
                    this.statsEl.appendChild(statEl);
                });
            }

            loadStats() {
                const defaultStats = {
                    francais: { correct: 0, incorrect: 0 },
                    maths: { correct: 0, incorrect: 0 },
                    histoire: { correct: 0, incorrect: 0 },
                    sciences: { correct: 0, incorrect: 0 },
                    physique: { correct: 0, incorrect: 0 }
                };

                const saved = localStorage.getItem('brevetQuizStats');
                return saved ? JSON.parse(saved) : defaultStats;
            }

            saveStats() {
                localStorage.setItem('brevetQuizStats', JSON.stringify(this.userStats));
            }
        }

        // Initialiser l'application
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Quiz initialis√© avec succ√®s !');
            new QuizApp();
        });
    </script>
</body>
</html>
